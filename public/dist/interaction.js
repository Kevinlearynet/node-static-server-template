"use strict";!function($,e){var a=$("#rulesetEditForm");e.configure({adapter:{observe:function(e,a,n){watch(e,a,n)},unobserve:function(e,a,n){unwatch(e,a,n)},get:function(e,a){return e[a]},set:function(e,a,n){e[a]=n}}});var n={matchTypeAny:!0,matchTypeAll:!1,rules:[],formClass:"ready",fields:{ruleType:[{name:"Advanced",options:[{value:"JavascriptFn",label:"Evaluate Javascript"}]},{name:"Content Engagement",options:[{value:"PageDepth",label:"Page Depth"},{value:"TimeOnPage",label:"Time on page"}]}]},handlers:{addParent:function(e,a){e.preventDefault(),a.data.rules.push({type:"parent",id:n.rules.length,operator:n.matchTypeAny?"or":"and",children:[]})},removeParent:function(e,a){e.preventDefault(),a.data.rules.splice(a.index,1)},addChild:function(e,a){e.preventDefault(),a.rule.children.push({type:"child",operator:n.matchTypeAny?"or":"and"})},removeChild:function(e,a){e.preventDefault(),a.data.rules[a.rule.id].children.splice(a.index,1)}}};$("#any-all",a).switchButton({on_label:"all",off_label:"any",width:50,height:20,button_width:25}).on("change",function(){var e=$(this).is(":checked")?"any":"all";"all"===e?(n.matchTypeAny=!0,n.matchTypeAll=!1):(n.matchTypeAny=!1,n.matchTypeAll=!0)}),e.bind(a,{data:n})}(window.jQuery,window.rivets);